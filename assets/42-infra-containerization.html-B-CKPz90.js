import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as l,o as n}from"./app-CdpNCDY8.js";const e={};function h(t,i){return n(),a("div",null,[...i[0]||(i[0]=[l(`<h1 id="基础设施-容器化" tabindex="-1"><a class="header-anchor" href="#基础设施-容器化"><span>基础设施-容器化</span></a></h1><p>容器化技术是现代云原生应用的基础，它提供了轻量级的应用隔离和标准化的应用交付方式。</p><h2 id="容器技术基础" tabindex="-1"><a class="header-anchor" href="#容器技术基础"><span>容器技术基础</span></a></h2><h3 id="_1-容器核心概念" tabindex="-1"><a class="header-anchor" href="#_1-容器核心概念"><span>1. 容器核心概念</span></a></h3><ul><li>容器镜像</li><li>容器运行时</li><li>容器注册表</li><li>容器编排</li><li>容器网络</li></ul><h3 id="_2-容器标准" tabindex="-1"><a class="header-anchor" href="#_2-容器标准"><span>2. 容器标准</span></a></h3><ul><li>OCI（开放容器倡议） <ul><li>运行时规范</li><li>镜像规范</li><li>分发规范</li></ul></li><li>CRI（容器运行时接口）</li><li>CNI（容器网络接口）</li><li>CSI（容器存储接口）</li></ul><h3 id="_3-主流容器技术" tabindex="-1"><a class="header-anchor" href="#_3-主流容器技术"><span>3. 主流容器技术</span></a></h3><ul><li>Docker <ul><li>容器引擎</li><li>Docker Compose</li><li>Docker Swarm</li></ul></li><li>Containerd</li><li>CRI-O</li><li>Podman</li></ul><h2 id="kubernetes基础" tabindex="-1"><a class="header-anchor" href="#kubernetes基础"><span>Kubernetes基础</span></a></h2><h3 id="_1-核心概念" tabindex="-1"><a class="header-anchor" href="#_1-核心概念"><span>1. 核心概念</span></a></h3><ul><li>Pod <ul><li>最小部署单元</li><li>容器组合</li><li>资源共享</li></ul></li><li>控制器 <ul><li>Deployment</li><li>StatefulSet</li><li>DaemonSet</li><li>Job/CronJob</li></ul></li><li>服务 <ul><li>Service</li><li>Ingress</li><li>NetworkPolicy</li></ul></li></ul><h3 id="_2-架构组件" tabindex="-1"><a class="header-anchor" href="#_2-架构组件"><span>2. 架构组件</span></a></h3><ul><li>控制平面 <ul><li>API Server</li><li>etcd</li><li>Controller Manager</li><li>Scheduler</li></ul></li><li>数据平面 <ul><li>Kubelet</li><li>Container Runtime</li><li>Kube-proxy</li></ul></li></ul><h2 id="kubernetes部署与管理" tabindex="-1"><a class="header-anchor" href="#kubernetes部署与管理"><span>Kubernetes部署与管理</span></a></h2><h3 id="_1-集群部署" tabindex="-1"><a class="header-anchor" href="#_1-集群部署"><span>1. 集群部署</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 使用kubeadm初始化主节点</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">kubeadm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> init</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --pod-network-cidr=10.244.0.0/16</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 配置kubectl</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $HOME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/.kube</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/kubernetes/admin.conf</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> $HOME</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/.kube/config</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 安装网络插件（以Calico为例）</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">kubectl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apply</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://docs.projectcalico.org/manifests/calico.yaml</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 添加工作节点</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">kubeadm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> join</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">master-i</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">p&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">por</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">t&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">--token</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">toke</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">n&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">--discovery-token-ca-cert-hash</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">has</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">h&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-应用部署" tabindex="-1"><a class="header-anchor" href="#_2-应用部署"><span>2. 应用部署</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># 部署示例</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">apps/v1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Deployment</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx-deployment</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  replicas</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  selector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    matchLabels</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  template</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      labels</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      containers</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx:1.14.2</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">        ports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">containerPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">80</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-服务暴露" tabindex="-1"><a class="header-anchor" href="#_3-服务暴露"><span>3. 服务暴露</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-yaml"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Service示例</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">apiVersion</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">v1</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">kind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Service</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">metadata</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx-service</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">spec</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  selector</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">nginx</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  ports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  - </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">port</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">80</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    targetPort</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">80</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">LoadBalancer</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="容器化最佳实践" tabindex="-1"><a class="header-anchor" href="#容器化最佳实践"><span>容器化最佳实践</span></a></h2><h3 id="_1-镜像管理" tabindex="-1"><a class="header-anchor" href="#_1-镜像管理"><span>1. 镜像管理</span></a></h3><ul><li>镜像构建优化</li><li>镜像安全扫描</li><li>镜像版本控制</li><li>镜像仓库管理</li></ul><h3 id="_2-应用设计" tabindex="-1"><a class="header-anchor" href="#_2-应用设计"><span>2. 应用设计</span></a></h3><ul><li>微服务架构</li><li>无状态设计</li><li>健康检查</li><li>配置管理</li><li>日志收集</li></ul><h3 id="_3-运维管理" tabindex="-1"><a class="header-anchor" href="#_3-运维管理"><span>3. 运维管理</span></a></h3><ul><li>监控告警 <ul><li>Prometheus</li><li>Grafana</li></ul></li><li>日志管理 <ul><li>EFK/ELK</li></ul></li><li>安全管理 <ul><li>RBAC</li><li>NetworkPolicy</li><li>PodSecurityPolicy</li></ul></li></ul><h3 id="_4-高可用设计" tabindex="-1"><a class="header-anchor" href="#_4-高可用设计"><span>4. 高可用设计</span></a></h3><ul><li>多副本部署</li><li>滚动更新</li><li>自动扩缩容</li><li>故障转移</li><li>灾难恢复</li></ul><h2 id="云原生生态" tabindex="-1"><a class="header-anchor" href="#云原生生态"><span>云原生生态</span></a></h2><h3 id="_1-服务网格" tabindex="-1"><a class="header-anchor" href="#_1-服务网格"><span>1. 服务网格</span></a></h3><ul><li>Istio</li><li>Linkerd</li><li>Consul</li></ul><h3 id="_2-无服务器计算" tabindex="-1"><a class="header-anchor" href="#_2-无服务器计算"><span>2. 无服务器计算</span></a></h3><ul><li>Knative</li><li>OpenFaaS</li><li>Kubeless</li></ul><h3 id="_3-gitops工具" tabindex="-1"><a class="header-anchor" href="#_3-gitops工具"><span>3. GitOps工具</span></a></h3><ul><li>ArgoCD</li><li>Flux</li><li>Jenkins X</li></ul><h3 id="_4-开发工具" tabindex="-1"><a class="header-anchor" href="#_4-开发工具"><span>4. 开发工具</span></a></h3><ul><li>Helm</li><li>Kustomize</li><li>Skaffold</li><li>Telepresence</li></ul><h2 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span>参考资料</span></a></h2><ul><li>Kubernetes官方文档：https://kubernetes.io/docs/</li><li>Docker文档：https://docs.docker.com/</li><li>云原生计算基金会：https://www.cncf.io/</li><li>Kubernetes最佳实践：https://kubernetes.io/docs/concepts/configuration/overview/</li><li>容器安全指南：https://kubernetes.io/docs/concepts/security/</li></ul>`,41)])])}const r=s(e,[["render",h]]),d=JSON.parse(`{"path":"/books/jsjjc/42-infra-containerization.html","title":"基础设施-容器化","lang":"zh-CN","frontmatter":{"order":42,"title":"基础设施-容器化","author":"abstiger","article":false,"description":"基础设施-容器化 容器化技术是现代云原生应用的基础，它提供了轻量级的应用隔离和标准化的应用交付方式。 容器技术基础 1. 容器核心概念 容器镜像 容器运行时 容器注册表 容器编排 容器网络 2. 容器标准 OCI（开放容器倡议） 运行时规范 镜像规范 分发规范 CRI（容器运行时接口） CNI（容器网络接口） CSI（容器存储接口） 3. 主流容器技术...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"基础设施-容器化\\",\\"description\\":\\"基础设施-容器化 容器化技术是现代云原生应用的基础，它提供了轻量级的应用隔离和标准化的应用交付方式。 容器技术基础 1. 容器核心概念 容器镜像 容器运行时 容器注册表 容器编排 容器网络 2. 容器标准 OCI（开放容器倡议） 运行时规范 镜像规范 分发规范 CRI（容器运行时接口） CNI（容器网络接口） CSI（容器存储接口） 3. 主流容器技术...\\"}"],["meta",{"property":"og:url","content":"https://abstiger.com/books/jsjjc/42-infra-containerization.html"}],["meta",{"property":"og:site_name","content":"Tiger's Website"}],["meta",{"property":"og:title","content":"基础设施-容器化"}],["meta",{"property":"og:description","content":"基础设施-容器化 容器化技术是现代云原生应用的基础，它提供了轻量级的应用隔离和标准化的应用交付方式。 容器技术基础 1. 容器核心概念 容器镜像 容器运行时 容器注册表 容器编排 容器网络 2. 容器标准 OCI（开放容器倡议） 运行时规范 镜像规范 分发规范 CRI（容器运行时接口） CNI（容器网络接口） CSI（容器存储接口） 3. 主流容器技术..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-15T10:21:25.000Z"}],["meta",{"property":"article:author","content":"abstiger"}],["meta",{"property":"article:modified_time","content":"2025-11-15T10:21:25.000Z"}]]},"git":{"createdTime":1763202085000,"updatedTime":1763202085000,"contributors":[{"name":"mingqiang.cheng","username":"","email":"mingqiang.cheng@cloudpense.com","commits":1}]},"readingTime":{"minutes":1.85,"words":555},"filePathRelative":"books/jsjjc/42-infra-containerization.md","excerpt":"\\n<p>容器化技术是现代云原生应用的基础，它提供了轻量级的应用隔离和标准化的应用交付方式。</p>\\n<h2>容器技术基础</h2>\\n<h3>1. 容器核心概念</h3>\\n<ul>\\n<li>容器镜像</li>\\n<li>容器运行时</li>\\n<li>容器注册表</li>\\n<li>容器编排</li>\\n<li>容器网络</li>\\n</ul>\\n<h3>2. 容器标准</h3>\\n<ul>\\n<li>OCI（开放容器倡议）\\n<ul>\\n<li>运行时规范</li>\\n<li>镜像规范</li>\\n<li>分发规范</li>\\n</ul>\\n</li>\\n<li>CRI（容器运行时接口）</li>\\n<li>CNI（容器网络接口）</li>\\n<li>CSI（容器存储接口）</li>\\n</ul>","autoDesc":true}`);export{r as comp,d as data};
