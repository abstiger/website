import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as t,d as i,o as n}from"./app-CdpNCDY8.js";const l={};function c(a,e){return n(),t("div",null,[...e[0]||(e[0]=[i('<p>这个月最主要的工作就是将krproject的客户端krclient和命令行接口（command line interface）krshell大致写完了，并新建了一个<a href="https://github.com/abstiger/krclient" title="krclient" target="_blank" rel="noopener noreferrer">github</a>项目，将他们放上去发布了。</p><p>其实之前的krclient并不是真正的客户端，充其量算一个krserver测试程序罢了，在我想写一个命令行管理终端时，我意识到这一点，然后看了些redis和mysql的源码，原来他们都是基于client的，在此基础上，封装对命令行的解析处理，然后便是客户端接口调用。</p><p>意识到这点后，便开始了客户端krclient的开发，然而我发现之前krengine提供的接口太少了，而且格式并不友好，所以想到将接口api统一为方便易读的json格式，便有了对krengine以及内部各个模块的接口函数编写。当然，krengine暴露的接口依然还是kr_engine_run，只不过在内部构建了一个msgtype -- handle_func的映射表，目前提供的接口大概也有近20个吧，后面也会继续完善的。</p><p>在krclient基本开发完毕后，我便着手krshell的开发了，用了<a href="http://cnswww.cns.cwru.edu/php/chet/readline/rltop.html" title="readline" target="_blank" rel="noopener noreferrer">readline</a>库处理用户的交互输入，不得不说这个readline还是挺不错的库，好像bash/mysql/sqlite等等好多都有使用它，确实很方便。当然redis用的是作者自己写的linenoise。而krshell的输入提示prompt也被我设计为尖下巴的笑脸模式：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">krshell:-</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>当然这其中还有些上篇文章提到的一些问题修复等，就不再罗嗦了。</p><p>聊聊接下来的考虑和打算吧：</p><ol><li>krclient的完善：目前krclient还比较简陋，只有同步接口，不提供异步接口也没有连接池等。在bindings目录下我也是通过swig生成了python和java的客户端，还没有测试过。关于krclient的其他语言版本，还是希望能够独立开发，因为本身krclient的通讯协议并不复杂，相信他的客户端写起来并不会很复杂。</li><li>krweb的完善：完善现有规则配置界面，另外通过php的krclient，将对krserver的一些管理信息加入krweb中。</li><li>R的嵌入接口编写：这在我的开发日志 <a href="./krproject-develop-trace-11">krproject开发进展（十一）</a> 中已经提到过了，这段时间也在学习R，我想这块应该是今年krproject TODO list里的重头了，spark都将R集成了，krproject也不可以落后啊……，哈哈～ 好了，流水帐就记录到这了～</li></ol>',8)])])}const s=r(l,[["render",c]]),k=JSON.parse(`{"path":"/projects/krproject/krproject-develop-trace-13.html","title":"krproject开发进展（十三）","lang":"zh-CN","frontmatter":{"order":13,"title":"krproject开发进展（十三）","article":false,"date":"2014-01-22T21:22:28.000Z","description":"这个月最主要的工作就是将krproject的客户端krclient和命令行接口（command line interface）krshell大致写完了，并新建了一个github项目，将他们放上去发布了。 其实之前的krclient并不是真正的客户端，充其量算一个krserver测试程序罢了，在我想写一个命令行管理终端时，我意识到这一点，然后看了些red...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"krproject开发进展（十三）\\",\\"description\\":\\"这个月最主要的工作就是将krproject的客户端krclient和命令行接口（command line interface）krshell大致写完了，并新建了一个github项目，将他们放上去发布了。 其实之前的krclient并不是真正的客户端，充其量算一个krserver测试程序罢了，在我想写一个命令行管理终端时，我意识到这一点，然后看了些red...\\"}"],["meta",{"property":"og:url","content":"https://abstiger.com/projects/krproject/krproject-develop-trace-13.html"}],["meta",{"property":"og:site_name","content":"Tiger's Website"}],["meta",{"property":"og:title","content":"krproject开发进展（十三）"}],["meta",{"property":"og:description","content":"这个月最主要的工作就是将krproject的客户端krclient和命令行接口（command line interface）krshell大致写完了，并新建了一个github项目，将他们放上去发布了。 其实之前的krclient并不是真正的客户端，充其量算一个krserver测试程序罢了，在我想写一个命令行管理终端时，我意识到这一点，然后看了些red..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-15T10:21:25.000Z"}],["meta",{"property":"article:published_time","content":"2014-01-22T21:22:28.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-15T10:21:25.000Z"}]]},"git":{"createdTime":1763202085000,"updatedTime":1763202085000,"contributors":[{"name":"mingqiang.cheng","username":"","email":"mingqiang.cheng@cloudpense.com","commits":1}]},"readingTime":{"minutes":2.27,"words":681},"filePathRelative":"projects/krproject/krproject-develop-trace-13.md","excerpt":"<p>这个月最主要的工作就是将krproject的客户端krclient和命令行接口（command line interface）krshell大致写完了，并新建了一个<a href=\\"https://github.com/abstiger/krclient\\" title=\\"krclient\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">github</a>项目，将他们放上去发布了。</p>\\n<p>其实之前的krclient并不是真正的客户端，充其量算一个krserver测试程序罢了，在我想写一个命令行管理终端时，我意识到这一点，然后看了些redis和mysql的源码，原来他们都是基于client的，在此基础上，封装对命令行的解析处理，然后便是客户端接口调用。</p>","autoDesc":true}`);export{s as comp,k as data};
